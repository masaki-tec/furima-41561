<%# CSS・・・assets/stylesheets/shared/header.css %>
<header class='top-page-header'>
  <div class='search-bar-contents'>
    <%= link_to image_tag("furima-logo-color.png", class:"furima-icon"), "/" %>

  <%= search_form_for @q, url: items_path, method: :get, html: { class: 'search-form' } do |f| %>
    <%# キーワード検索（品名・説明・タグ・出品者名） %>
    <%= f.text_field :name_or_product_description_or_tags_tag_name_or_user_nickname_cont,
                   value: params.dig(:q, :name_or_product_description_or_tags_tag_name_or_user_nickname_cont),
                   class: 'input-box',
                   placeholder: 'キーワード（品名・説明・タグ・出品者名）' %>

    <%# カテゴリー選択（親カテゴリのみ表示） %>
    <%= f.select :category_id_eq, options_for_select(Category.where(ancestry: nil).map { |c| [c.name, c.id] }, params.dig(:q, :category_id_eq)), include_blank: 'カテゴリーを選択' %>

    <%# 検索ボタン %>
     <button type="submit" class="search-button">
     <%= image_tag "search.png", class: "search-icon" %>
  </button>
  <% end %>
  
  </div>

  <div class='nav'>
    <ul class='lists-left'>
      <li><%= link_to 'カテゴリー', "#", class: "category-list" %></li>
      <li><%= link_to 'ブランド', "#", class: "brand-list" %></li>
    </ul>

    <% if user_signed_in? %>
      <ul class='lists-right'>
        <li><%= link_to current_user.nickname, "#", class: "user-nickname" %></li> 
        <li><%= link_to 'ログアウト', destroy_user_session_path, data: { turbo_method: :delete }, class: "logout" %></li>
      </ul>
    <% else %>
      <ul class='lists-right'>
        <li><%= link_to 'ログイン', new_user_session_path, class: "login" %></li>
        <li><%= link_to '新規登録', new_user_registration_path, class: "sign-up" %></li>
      </ul>
    <% end %>
  </div>
</header>